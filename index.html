<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Home - Merchant Integration</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

    <!--Begin nhúng SDK của ZaloPay-->
    <script src="https://scdn.zalopay.com.vn/zst/zpi-spa/sdk/0.1.0/sdk.js"></script>
    <!--End nhúng SDK của ZaloPay-->


</head>

<body id="page-top" data-bs-spy="scroll" data-bs-target="#mainNav" data-bs-offset="10">
    <div class="alert alert-warning" role="alert" style="position: fixed; width: 90%; margin: 20px;" id="copy-result-popup">
        <p style="text-align: center; font-size: 18px;">Sao chép thành công!</p>
    </div>
    <header class="text-center text-white bg-primary" style="padding-top: 30px;">
        <div class="container">
            <h2>Merchant Integration</h2>
            <hr class="star-light">
            <p class="font-weight-light mb-0" style="font-size: 18px; padding: 20px 0px;">Link SDK của ZaloPay<br>https://scdn.zalopay.com.vn/zst/zpi-spa/sdk/0.1.0/sdk.js<br></p>
        </div>
        <div class="input-group" style="padding: 20px 0px; text-align: center;">
            <!-- <button type="button" class="btn btn-danger" style="text-align: center; width: 100%; margin: 10px;">Sao chép SDK</button> -->
        </div>
    </header>

    <div>
        <h4 style="text-align: center; padding-top: 10px;">
            Thông tin AppID: 2553
        </h4>
        <p style="text-align: center;">========== Kết quả Init ==========</p>
        <div class="input-group">
            <textarea class="form-control" readonly style="margin: 0 10px;" rows="4" id="init_result"></textarea>
        </div>

        <p style="text-align: center; padding-top: 10px;">========== Kết quả trả về ==========</p>
        <!-- <div class="" id="user_result"></div> -->
        <div class="input-group">
            <textarea class="form-control dataCopy" aria-label="With textarea" id="user_result" readonly style="margin: 0 10px;" rows="6"></textarea>
        </div>
        <div class="input-group" style="padding-top: 10px; text-align: center;">
            <button type="button" onclick="copyFunction()" class="btn btn-info" style="text-align: center; width: 100%; margin: 10px;">Sao chép kết quả</button>
        </div>
    </div>
    <div>
    </div>
    <div style="height: 100px;"></div>
    <script>
    </script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/freelancer.js"></script>
    <script>
        
        window.ZLP.init(2553, "sandboxmc").then(result => {
            console.log(result);
                document.getElementById("init_result").value = JSON.stringify(result);
                window.ZLP.User().getUserInfo().then( data => {
                console.log( data );
                document.getElementById( "user_result" ).value = JSON.stringify( data );
            } ).catch( e => {
                console.log( e )
                document.getElementById( "user_result" ).value = JSON.stringify( e );
            } );
        }).catch(e => {
            console.error(e);
            document.getElementById("init_result").value = JSON.stringify(e);
        }
        )
    </script>
    <script>
        $( document ).ready( function () {
                $( ".alert" ).hide();
        });
        function copyFunction () {
                var copyText = document.getElementsByClassName( "dataCopy" );
                copyText[0].select();
                copyText[0].setSelectionRange( 0, 99999 ); /* For mobile devices */
                navigator.clipboard.writeText( copyText[0].value );
                $( '.alert' ).show();
                setTimeout( function () {
                $( '.alert' ).hide();
                }, 1000 );
            
            }
    </script>
</body>

</html>